{% extends 'base.html' %}
{% load static %}
{% load social_share %}

{% block head_block %}
<title>{{post.meta_title}}</title>
<meta name="description" content="{{post.meta_description}}">
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<link rel="canonical" href="{{request.build_absolute_uri}}">
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="{{post.meta_title}}" />
<meta property="og:description" content="{{post.meta_description}}" />
<meta property="og:url" content="{{request.build_absolute_uri}}" />
<meta property="og:site_name" content="localhost" />
<meta property="article:published_time" content="{{post.publish_date}}" />
<meta property="article:modified_time" content="{{post.update_date}}" />
<link rel="stylesheet" href="{% static 'css/postPage.css' %}">
<link rel="stylesheet" href="{% static 'css/postCard.css' %}">
{% endblock %}

{% block body_block %}
<div class="post flex flex-column">
    <div class="post-container">
        <section class="post-detail">
            <div class="post__information flex flex-column">
                <div class="post__information">
                    <h1 class="post--title">{{post.title}}</h1>
                    <div class="post__meta">
                        <p class="post__meta--category">Category: <span class="name">{{post.category}}</span> </p>
                        <p class='post__meta--author'>Author: <span class="name">{{post.author}}</span></p>
                        <p class="post__meta--publish-dt">publish on: <span class="name">{{post.publish_date}} |
                                {{post.read_time}}
                                read</span></p>
                    </div>
                </div>
                <div class="post__featured-image">
                    {% if post.featured_image %}
                    <img src="{{post.featured_image.url}}" alt="image">
                    {% endif %}
                </div>
            </div>
            <div class="post__body">
                <div class="post__body--content">
                    <article class="post__body--content--body">
                        {{post.body|safe}}
                    </article>
                </div>
            </div>
        </section>
    </div>
    {% if related_category_post %}
    <div class="related-posts">
        <h1 class="related-posts--heading">Related Posts</h1>
        <div class="related-posts--container">
            {% for post in related_category_post %}
            {% include './postCard.html' with post=post %}
            {% endfor %}
        </div>
    </div>
    {% endif %}
    {% include './comments.html' %}
    {% include './commentForm.html' %}
</div>

{% endblock %}